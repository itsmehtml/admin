{"version":3,"file":"angular-resizable-element.js","sources":["angular-resizable-element/is-touch-device.ts","angular-resizable-element/resizable.directive.ts","angular-resizable-element/resize-handle.directive.ts","angular-resizable-element/resizable.module.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * @hidden\n */\nexport const IS_TOUCH_DEVICE: boolean = (() => {\n  // In case we're in Node.js environment.\n  if (typeof window === 'undefined') {\n    return false;\n  } else {\n    return (\n      'ontouchstart' in window ||\n      navigator.maxTouchPoints > 0 ||\n      navigator.msMaxTouchPoints > 0\n    );\n  }\n})();\n","import {\n  Directive,\n  Renderer2,\n  ElementRef,\n  OnInit,\n  Output,\n  Input,\n  EventEmitter,\n  OnDestroy,\n  NgZone,\n  OnChanges,\n  SimpleChanges,\n  Inject,\n  PLATFORM_ID\n} from '@angular/core';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Subject, Observable, Observer, merge, EMPTY } from 'rxjs';\nimport {\n  map,\n  mergeMap,\n  takeUntil,\n  filter,\n  pairwise,\n  take,\n  share,\n  auditTime,\n  switchMap,\n  startWith,\n  tap\n} from 'rxjs/operators';\nimport { Edges } from './interfaces/edges.interface';\nimport { BoundingRectangle } from './interfaces/bounding-rectangle.interface';\nimport { ResizeEvent } from './interfaces/resize-event.interface';\nimport { IS_TOUCH_DEVICE } from './is-touch-device';\n\ninterface PointerEventCoordinate {\n  clientX: number;\n  clientY: number;\n  event: MouseEvent | TouchEvent;\n}\n\ninterface Coordinate {\n  x: number;\n  y: number;\n}\n\nfunction isNumberCloseTo(\n  value1: number,\n  value2: number,\n  precision: number = 3\n): boolean {\n  const diff: number = Math.abs(value1 - value2);\n  return diff < precision;\n}\n\nfunction getNewBoundingRectangle(\n  startingRect: BoundingRectangle,\n  edges: Edges,\n  clientX: number,\n  clientY: number\n): BoundingRectangle {\n  const newBoundingRect: BoundingRectangle = {\n    top: startingRect.top,\n    bottom: startingRect.bottom,\n    left: startingRect.left,\n    right: startingRect.right\n  };\n\n  if (edges.top) {\n    newBoundingRect.top += clientY;\n  }\n  if (edges.bottom) {\n    newBoundingRect.bottom += clientY;\n  }\n  if (edges.left) {\n    newBoundingRect.left += clientX;\n  }\n  if (edges.right) {\n    newBoundingRect.right += clientX;\n  }\n  newBoundingRect.height = newBoundingRect.bottom - newBoundingRect.top;\n  newBoundingRect.width = newBoundingRect.right - newBoundingRect.left;\n\n  return newBoundingRect;\n}\n\nfunction getElementRect(\n  element: ElementRef,\n  ghostElementPositioning: string\n): BoundingRectangle {\n  let translateX = 0;\n  let translateY = 0;\n  const style = element.nativeElement.style;\n  const transformProperties = [\n    'transform',\n    '-ms-transform',\n    '-moz-transform',\n    '-o-transform'\n  ];\n  const transform = transformProperties\n    .map(property => style[property])\n    .find(value => !!value);\n  if (transform && transform.includes('translate')) {\n    translateX = transform.replace(\n      /.*translate3?d?\\((-?[0-9]*)px, (-?[0-9]*)px.*/,\n      '$1'\n    );\n    translateY = transform.replace(\n      /.*translate3?d?\\((-?[0-9]*)px, (-?[0-9]*)px.*/,\n      '$2'\n    );\n  }\n\n  if (ghostElementPositioning === 'absolute') {\n    return {\n      height: element.nativeElement.offsetHeight,\n      width: element.nativeElement.offsetWidth,\n      top: element.nativeElement.offsetTop - translateY,\n      bottom:\n        element.nativeElement.offsetHeight +\n        element.nativeElement.offsetTop -\n        translateY,\n      left: element.nativeElement.offsetLeft - translateX,\n      right:\n        element.nativeElement.offsetWidth +\n        element.nativeElement.offsetLeft -\n        translateX\n    };\n  } else {\n    const boundingRect: BoundingRectangle = element.nativeElement.getBoundingClientRect();\n    return {\n      height: boundingRect.height,\n      width: boundingRect.width,\n      top: boundingRect.top - translateY,\n      bottom: boundingRect.bottom - translateY,\n      left: boundingRect.left - translateX,\n      right: boundingRect.right - translateX,\n      scrollTop: element.nativeElement.scrollTop,\n      scrollLeft: element.nativeElement.scrollLeft\n    };\n  }\n}\n\nfunction isWithinBoundingY({\n  clientY,\n  rect\n}: {\n  clientY: number;\n  rect: ClientRect;\n}): boolean {\n  return clientY >= rect.top && clientY <= rect.bottom;\n}\n\nfunction isWithinBoundingX({\n  clientX,\n  rect\n}: {\n  clientX: number;\n  rect: ClientRect;\n}): boolean {\n  return clientX >= rect.left && clientX <= rect.right;\n}\n\nfunction getResizeEdges({\n  clientX,\n  clientY,\n  elm,\n  allowedEdges,\n  cursorPrecision\n}: {\n  clientX: number;\n  clientY: number;\n  elm: ElementRef;\n  allowedEdges: Edges;\n  cursorPrecision: number;\n}): Edges {\n  const elmPosition: ClientRect = elm.nativeElement.getBoundingClientRect();\n  const edges: Edges = {};\n\n  if (\n    allowedEdges.left &&\n    isNumberCloseTo(clientX, elmPosition.left, cursorPrecision) &&\n    isWithinBoundingY({ clientY, rect: elmPosition })\n  ) {\n    edges.left = true;\n  }\n\n  if (\n    allowedEdges.right &&\n    isNumberCloseTo(clientX, elmPosition.right, cursorPrecision) &&\n    isWithinBoundingY({ clientY, rect: elmPosition })\n  ) {\n    edges.right = true;\n  }\n\n  if (\n    allowedEdges.top &&\n    isNumberCloseTo(clientY, elmPosition.top, cursorPrecision) &&\n    isWithinBoundingX({ clientX, rect: elmPosition })\n  ) {\n    edges.top = true;\n  }\n\n  if (\n    allowedEdges.bottom &&\n    isNumberCloseTo(clientY, elmPosition.bottom, cursorPrecision) &&\n    isWithinBoundingX({ clientX, rect: elmPosition })\n  ) {\n    edges.bottom = true;\n  }\n\n  return edges;\n}\n\nexport interface ResizeCursors {\n  topLeft: string;\n  topRight: string;\n  bottomLeft: string;\n  bottomRight: string;\n  leftOrRight: string;\n  topOrBottom: string;\n}\n\nconst DEFAULT_RESIZE_CURSORS: ResizeCursors = Object.freeze({\n  topLeft: 'nw-resize',\n  topRight: 'ne-resize',\n  bottomLeft: 'sw-resize',\n  bottomRight: 'se-resize',\n  leftOrRight: 'col-resize',\n  topOrBottom: 'row-resize'\n});\n\nfunction getResizeCursor(edges: Edges, cursors: ResizeCursors): string {\n  if (edges.left && edges.top) {\n    return cursors.topLeft;\n  } else if (edges.right && edges.top) {\n    return cursors.topRight;\n  } else if (edges.left && edges.bottom) {\n    return cursors.bottomLeft;\n  } else if (edges.right && edges.bottom) {\n    return cursors.bottomRight;\n  } else if (edges.left || edges.right) {\n    return cursors.leftOrRight;\n  } else if (edges.top || edges.bottom) {\n    return cursors.topOrBottom;\n  } else {\n    return '';\n  }\n}\n\nfunction getEdgesDiff({\n  edges,\n  initialRectangle,\n  newRectangle\n}: {\n  edges: Edges;\n  initialRectangle: BoundingRectangle;\n  newRectangle: BoundingRectangle;\n}): Edges {\n  const edgesDiff: Edges = {};\n  Object.keys(edges).forEach(edge => {\n    edgesDiff[edge] = (newRectangle[edge] || 0) - (initialRectangle[edge] || 0);\n  });\n  return edgesDiff;\n}\n\nconst RESIZE_ACTIVE_CLASS: string = 'resize-active';\nconst RESIZE_LEFT_HOVER_CLASS: string = 'resize-left-hover';\nconst RESIZE_RIGHT_HOVER_CLASS: string = 'resize-right-hover';\nconst RESIZE_TOP_HOVER_CLASS: string = 'resize-top-hover';\nconst RESIZE_BOTTOM_HOVER_CLASS: string = 'resize-bottom-hover';\nconst RESIZE_GHOST_ELEMENT_CLASS: string = 'resize-ghost-element';\n\nexport const MOUSE_MOVE_THROTTLE_MS: number = 50;\n\n/**\n * Place this on an element to make it resizable. For example:\n *\n * ```html\n * <div\n *   mwlResizable\n *   [resizeEdges]=\"{bottom: true, right: true, top: true, left: true}\"\n *   [enableGhostResize]=\"true\">\n * </div>\n * ```\n * Or in case they are sibling elements:\n * ```html\n * <div mwlResizable #resizableElement=\"mwlResizable\"></div>\n * <div mwlResizeHandle [resizableContainer]=\"resizableElement\" [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * ```\n */\n@Directive({\n  selector: '[mwlResizable]',\n  exportAs: 'mwlResizable'\n})\nexport class ResizableDirective implements OnInit, OnChanges, OnDestroy {\n  /**\n   * A function that will be called before each resize event. Return `true` to allow the resize event to propagate or `false` to cancel it\n   */\n  @Input() validateResize: (resizeEvent: ResizeEvent) => boolean;\n\n  /**\n   * The edges that an element can be resized from. Pass an object like `{top: true, bottom: false}`. By default no edges can be resized.\n   * @deprecated use a resize handle instead that positions itself to the side of the element you would like to resize\n   */\n  @Input() resizeEdges: Edges = {};\n\n  /**\n   * Set to `true` to enable a temporary resizing effect of the element in between the `resizeStart` and `resizeEnd` events.\n   */\n  @Input() enableGhostResize: boolean = false;\n\n  /**\n   * A snap grid that resize events will be locked to.\n   *\n   * e.g. to only allow the element to be resized every 10px set it to `{left: 10, right: 10}`\n   */\n  @Input() resizeSnapGrid: Edges = {};\n\n  /**\n   * The mouse cursors that will be set on the resize edges\n   */\n  @Input() resizeCursors: ResizeCursors = DEFAULT_RESIZE_CURSORS;\n\n  /**\n   * Mouse over thickness to active cursor.\n   * @deprecated invalid when you migrate to use resize handles instead of setting resizeEdges on the element\n   */\n  @Input() resizeCursorPrecision: number = 3;\n\n  /**\n   * Define the positioning of the ghost element (can be fixed or absolute)\n   */\n  @Input() ghostElementPositioning: 'fixed' | 'absolute' = 'fixed';\n\n  /**\n   * Allow elements to be resized to negative dimensions\n   */\n  @Input() allowNegativeResizes: boolean = false;\n\n  /**\n   * The mouse move throttle in milliseconds, default: 50 ms\n   */\n  @Input() mouseMoveThrottleMS: number = MOUSE_MOVE_THROTTLE_MS;\n\n  /**\n   * Called when the mouse is pressed and a resize event is about to begin. `$event` is a `ResizeEvent` object.\n   */\n  @Output() resizeStart = new EventEmitter<ResizeEvent>();\n\n  /**\n   * Called as the mouse is dragged after a resize event has begun. `$event` is a `ResizeEvent` object.\n   */\n  @Output() resizing = new EventEmitter<ResizeEvent>();\n\n  /**\n   * Called after the mouse is released after a resize event. `$event` is a `ResizeEvent` object.\n   */\n  @Output() resizeEnd = new EventEmitter<ResizeEvent>();\n\n  /**\n   * @hidden\n   */\n  public mouseup = new Subject<{\n    clientX: number;\n    clientY: number;\n    edges?: Edges;\n  }>();\n\n  /**\n   * @hidden\n   */\n  public mousedown = new Subject<{\n    clientX: number;\n    clientY: number;\n    edges?: Edges;\n  }>();\n\n  /**\n   * @hidden\n   */\n  public mousemove = new Subject<{\n    clientX: number;\n    clientY: number;\n    edges?: Edges;\n    event: MouseEvent | TouchEvent;\n  }>();\n\n  private pointerEventListeners: PointerEventListeners;\n\n  private destroy$ = new Subject<void>();\n\n  private resizeEdges$ = new Subject<Edges>();\n\n  /**\n   * @hidden\n   */\n  constructor(\n    @Inject(PLATFORM_ID) private platformId: any,\n    private renderer: Renderer2,\n    public elm: ElementRef,\n    private zone: NgZone\n  ) {\n    this.pointerEventListeners = PointerEventListeners.getInstance(\n      renderer,\n      zone\n    );\n  }\n\n  /**\n   * @hidden\n   */\n  ngOnInit(): void {\n    const mousedown$: Observable<{\n      clientX: number;\n      clientY: number;\n      edges?: Edges;\n    }> = merge(this.pointerEventListeners.pointerDown, this.mousedown);\n\n    const mousemove$ = merge(\n      this.pointerEventListeners.pointerMove,\n      this.mousemove\n    ).pipe(\n      tap(({ event }) => {\n        if (currentResize) {\n          try {\n            event.preventDefault();\n          } catch (e) {\n            // just adding try-catch not to see errors in console if there is a passive listener for same event somewhere\n            // browser does nothing except of writing errors to console\n          }\n        }\n      }),\n      share()\n    );\n\n    const mouseup$ = merge(this.pointerEventListeners.pointerUp, this.mouseup);\n\n    let currentResize: {\n      edges: Edges;\n      startingRect: BoundingRectangle;\n      currentRect: BoundingRectangle;\n      clonedNode?: HTMLElement;\n    } | null;\n\n    const removeGhostElement = () => {\n      if (currentResize && currentResize.clonedNode) {\n        this.elm.nativeElement.parentElement.removeChild(\n          currentResize.clonedNode\n        );\n        this.renderer.setStyle(this.elm.nativeElement, 'visibility', 'inherit');\n      }\n    };\n\n    const getResizeCursors = (): ResizeCursors => {\n      return {\n        ...DEFAULT_RESIZE_CURSORS,\n        ...this.resizeCursors\n      };\n    };\n\n    this.resizeEdges$\n      .pipe(\n        startWith(this.resizeEdges),\n        map(() => {\n          return (\n            this.resizeEdges &&\n            Object.keys(this.resizeEdges).some(edge => !!this.resizeEdges[edge])\n          );\n        }),\n        switchMap(legacyResizeEdgesEnabled =>\n          legacyResizeEdgesEnabled ? mousemove$ : EMPTY\n        ),\n        auditTime(this.mouseMoveThrottleMS),\n        takeUntil(this.destroy$)\n      )\n      .subscribe(({ clientX, clientY }) => {\n        const resizeEdges: Edges = getResizeEdges({\n          clientX,\n          clientY,\n          elm: this.elm,\n          allowedEdges: this.resizeEdges,\n          cursorPrecision: this.resizeCursorPrecision\n        });\n        const resizeCursors = getResizeCursors();\n        if (!currentResize) {\n          const cursor = getResizeCursor(resizeEdges, resizeCursors);\n          this.renderer.setStyle(this.elm.nativeElement, 'cursor', cursor);\n        }\n        this.setElementClass(\n          this.elm,\n          RESIZE_LEFT_HOVER_CLASS,\n          resizeEdges.left === true\n        );\n        this.setElementClass(\n          this.elm,\n          RESIZE_RIGHT_HOVER_CLASS,\n          resizeEdges.right === true\n        );\n        this.setElementClass(\n          this.elm,\n          RESIZE_TOP_HOVER_CLASS,\n          resizeEdges.top === true\n        );\n        this.setElementClass(\n          this.elm,\n          RESIZE_BOTTOM_HOVER_CLASS,\n          resizeEdges.bottom === true\n        );\n      });\n\n    const mousedrag: Observable<any> = mousedown$\n      .pipe(\n        mergeMap(startCoords => {\n          function getDiff(moveCoords: { clientX: number; clientY: number }) {\n            return {\n              clientX: moveCoords.clientX - startCoords.clientX,\n              clientY: moveCoords.clientY - startCoords.clientY\n            };\n          }\n\n          const getSnapGrid = () => {\n            const snapGrid: Coordinate = { x: 1, y: 1 };\n\n            if (currentResize) {\n              if (this.resizeSnapGrid.left && currentResize.edges.left) {\n                snapGrid.x = +this.resizeSnapGrid.left;\n              } else if (\n                this.resizeSnapGrid.right &&\n                currentResize.edges.right\n              ) {\n                snapGrid.x = +this.resizeSnapGrid.right;\n              }\n\n              if (this.resizeSnapGrid.top && currentResize.edges.top) {\n                snapGrid.y = +this.resizeSnapGrid.top;\n              } else if (\n                this.resizeSnapGrid.bottom &&\n                currentResize.edges.bottom\n              ) {\n                snapGrid.y = +this.resizeSnapGrid.bottom;\n              }\n            }\n\n            return snapGrid;\n          };\n\n          function getGrid(\n            coords: { clientX: number; clientY: number },\n            snapGrid: Coordinate\n          ) {\n            return {\n              x: Math.ceil(coords.clientX / snapGrid.x),\n              y: Math.ceil(coords.clientY / snapGrid.y)\n            };\n          }\n\n          return (merge(\n            mousemove$.pipe(take(1)).pipe(map(coords => [, coords])),\n            mousemove$.pipe(pairwise())\n          ) as Observable<\n            [\n              { clientX: number; clientY: number },\n              { clientX: number; clientY: number }\n            ]\n          >)\n            .pipe(\n              map(([previousCoords, newCoords]) => {\n                return [\n                  previousCoords ? getDiff(previousCoords) : previousCoords,\n                  getDiff(newCoords)\n                ];\n              })\n            )\n            .pipe(\n              filter(([previousCoords, newCoords]) => {\n                if (!previousCoords) {\n                  return true;\n                }\n\n                const snapGrid: Coordinate = getSnapGrid();\n                const previousGrid: Coordinate = getGrid(\n                  previousCoords,\n                  snapGrid\n                );\n                const newGrid: Coordinate = getGrid(newCoords, snapGrid);\n\n                return (\n                  previousGrid.x !== newGrid.x || previousGrid.y !== newGrid.y\n                );\n              })\n            )\n            .pipe(\n              map(([, newCoords]) => {\n                const snapGrid: Coordinate = getSnapGrid();\n                return {\n                  clientX:\n                    Math.round(newCoords.clientX / snapGrid.x) * snapGrid.x,\n                  clientY:\n                    Math.round(newCoords.clientY / snapGrid.y) * snapGrid.y\n                };\n              })\n            )\n            .pipe(takeUntil(merge(mouseup$, mousedown$)));\n        })\n      )\n      .pipe(filter(() => !!currentResize));\n\n    mousedrag\n      .pipe(\n        map(({ clientX, clientY }) => {\n          return getNewBoundingRectangle(\n            currentResize!.startingRect,\n            currentResize!.edges,\n            clientX,\n            clientY\n          );\n        })\n      )\n      .pipe(\n        filter((newBoundingRect: BoundingRectangle) => {\n          return (\n            this.allowNegativeResizes ||\n            !!(\n              newBoundingRect.height &&\n              newBoundingRect.width &&\n              newBoundingRect.height > 0 &&\n              newBoundingRect.width > 0\n            )\n          );\n        })\n      )\n      .pipe(\n        filter((newBoundingRect: BoundingRectangle) => {\n          return this.validateResize\n            ? this.validateResize({\n                rectangle: newBoundingRect,\n                edges: getEdgesDiff({\n                  edges: currentResize!.edges,\n                  initialRectangle: currentResize!.startingRect,\n                  newRectangle: newBoundingRect\n                })\n              })\n            : true;\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe((newBoundingRect: BoundingRectangle) => {\n        if (currentResize && currentResize.clonedNode) {\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'height',\n            `${newBoundingRect.height}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'width',\n            `${newBoundingRect.width}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'top',\n            `${newBoundingRect.top}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'left',\n            `${newBoundingRect.left}px`\n          );\n        }\n\n        if (this.resizing.observers.length > 0) {\n          this.zone.run(() => {\n            this.resizing.emit({\n              edges: getEdgesDiff({\n                edges: currentResize!.edges,\n                initialRectangle: currentResize!.startingRect,\n                newRectangle: newBoundingRect\n              }),\n              rectangle: newBoundingRect\n            });\n          });\n        }\n        currentResize!.currentRect = newBoundingRect;\n      });\n\n    mousedown$\n      .pipe(\n        map(({ clientX, clientY, edges }) => {\n          return (\n            edges ||\n            getResizeEdges({\n              clientX,\n              clientY,\n              elm: this.elm,\n              allowedEdges: this.resizeEdges,\n              cursorPrecision: this.resizeCursorPrecision\n            })\n          );\n        })\n      )\n      .pipe(\n        filter((edges: Edges) => {\n          return Object.keys(edges).length > 0;\n        }),\n        takeUntil(this.destroy$)\n      )\n      .subscribe((edges: Edges) => {\n        if (currentResize) {\n          removeGhostElement();\n        }\n        const startingRect: BoundingRectangle = getElementRect(\n          this.elm,\n          this.ghostElementPositioning\n        );\n        currentResize = {\n          edges,\n          startingRect,\n          currentRect: startingRect\n        };\n        const resizeCursors = getResizeCursors();\n        const cursor = getResizeCursor(currentResize.edges, resizeCursors);\n        this.renderer.setStyle(document.body, 'cursor', cursor);\n        this.setElementClass(this.elm, RESIZE_ACTIVE_CLASS, true);\n        if (this.enableGhostResize) {\n          currentResize.clonedNode = this.elm.nativeElement.cloneNode(true);\n          this.elm.nativeElement.parentElement.appendChild(\n            currentResize.clonedNode\n          );\n          this.renderer.setStyle(\n            this.elm.nativeElement,\n            'visibility',\n            'hidden'\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'position',\n            this.ghostElementPositioning\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'left',\n            `${currentResize.startingRect.left}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'top',\n            `${currentResize.startingRect.top}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'height',\n            `${currentResize.startingRect.height}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'width',\n            `${currentResize.startingRect.width}px`\n          );\n          this.renderer.setStyle(\n            currentResize.clonedNode,\n            'cursor',\n            getResizeCursor(currentResize.edges, resizeCursors)\n          );\n          this.renderer.addClass(\n            currentResize.clonedNode,\n            RESIZE_GHOST_ELEMENT_CLASS\n          );\n          currentResize.clonedNode!.scrollTop = currentResize.startingRect\n            .scrollTop as number;\n          currentResize.clonedNode!.scrollLeft = currentResize.startingRect\n            .scrollLeft as number;\n        }\n        if (this.resizeStart.observers.length > 0) {\n          this.zone.run(() => {\n            this.resizeStart.emit({\n              edges: getEdgesDiff({\n                edges,\n                initialRectangle: startingRect,\n                newRectangle: startingRect\n              }),\n              rectangle: getNewBoundingRectangle(startingRect, {}, 0, 0)\n            });\n          });\n        }\n      });\n\n    mouseup$.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      if (currentResize) {\n        this.renderer.removeClass(this.elm.nativeElement, RESIZE_ACTIVE_CLASS);\n        this.renderer.setStyle(document.body, 'cursor', '');\n        this.renderer.setStyle(this.elm.nativeElement, 'cursor', '');\n        if (this.resizeEnd.observers.length > 0) {\n          this.zone.run(() => {\n            this.resizeEnd.emit({\n              edges: getEdgesDiff({\n                edges: currentResize!.edges,\n                initialRectangle: currentResize!.startingRect,\n                newRectangle: currentResize!.currentRect\n              }),\n              rectangle: currentResize!.currentRect\n            });\n          });\n        }\n        removeGhostElement();\n        currentResize = null;\n      }\n    });\n  }\n\n  /**\n   * @hidden\n   */\n  ngOnChanges(changes: SimpleChanges): void {\n    if (changes.resizeEdges) {\n      this.resizeEdges$.next(this.resizeEdges);\n    }\n  }\n\n  /**\n   * @hidden\n   */\n  ngOnDestroy(): void {\n    // browser check for angular universal, because it doesn't know what document is\n    if (isPlatformBrowser(this.platformId)) {\n      this.renderer.setStyle(document.body, 'cursor', '');\n    }\n    this.mousedown.complete();\n    this.mouseup.complete();\n    this.mousemove.complete();\n    this.resizeEdges$.complete();\n    this.destroy$.next();\n  }\n\n  private setElementClass(elm: ElementRef, name: string, add: boolean): void {\n    if (add) {\n      this.renderer.addClass(elm.nativeElement, name);\n    } else {\n      this.renderer.removeClass(elm.nativeElement, name);\n    }\n  }\n}\n\nclass PointerEventListeners {\n  public pointerDown: Observable<PointerEventCoordinate>;\n\n  public pointerMove: Observable<PointerEventCoordinate>;\n\n  public pointerUp: Observable<PointerEventCoordinate>;\n\n  private static instance: PointerEventListeners; // tslint:disable-line\n\n  public static getInstance(\n    renderer: Renderer2,\n    zone: NgZone\n  ): PointerEventListeners {\n    if (!PointerEventListeners.instance) {\n      PointerEventListeners.instance = new PointerEventListeners(\n        renderer,\n        zone\n      );\n    }\n    return PointerEventListeners.instance;\n  }\n\n  constructor(renderer: Renderer2, zone: NgZone) {\n    this.pointerDown = new Observable(\n      (observer: Observer<PointerEventCoordinate>) => {\n        let unsubscribeMouseDown: () => void;\n        let unsubscribeTouchStart: (() => void) | undefined;\n\n        zone.runOutsideAngular(() => {\n          unsubscribeMouseDown = renderer.listen(\n            'document',\n            'mousedown',\n            (event: MouseEvent) => {\n              observer.next({\n                clientX: event.clientX,\n                clientY: event.clientY,\n                event\n              });\n            }\n          );\n\n          if (IS_TOUCH_DEVICE) {\n            unsubscribeTouchStart = renderer.listen(\n              'document',\n              'touchstart',\n              (event: TouchEvent) => {\n                observer.next({\n                  clientX: event.touches[0].clientX,\n                  clientY: event.touches[0].clientY,\n                  event\n                });\n              }\n            );\n          }\n        });\n\n        return () => {\n          unsubscribeMouseDown();\n          if (IS_TOUCH_DEVICE) {\n            unsubscribeTouchStart!();\n          }\n        };\n      }\n    ).pipe(share());\n\n    this.pointerMove = new Observable(\n      (observer: Observer<PointerEventCoordinate>) => {\n        let unsubscribeMouseMove: () => void;\n        let unsubscribeTouchMove: (() => void) | undefined;\n\n        zone.runOutsideAngular(() => {\n          unsubscribeMouseMove = renderer.listen(\n            'document',\n            'mousemove',\n            (event: MouseEvent) => {\n              observer.next({\n                clientX: event.clientX,\n                clientY: event.clientY,\n                event\n              });\n            }\n          );\n\n          if (IS_TOUCH_DEVICE) {\n            unsubscribeTouchMove = renderer.listen(\n              'document',\n              'touchmove',\n              (event: TouchEvent) => {\n                observer.next({\n                  clientX: event.targetTouches[0].clientX,\n                  clientY: event.targetTouches[0].clientY,\n                  event\n                });\n              }\n            );\n          }\n        });\n\n        return () => {\n          unsubscribeMouseMove();\n          if (IS_TOUCH_DEVICE) {\n            unsubscribeTouchMove!();\n          }\n        };\n      }\n    ).pipe(share());\n\n    this.pointerUp = new Observable(\n      (observer: Observer<PointerEventCoordinate>) => {\n        let unsubscribeMouseUp: () => void;\n        let unsubscribeTouchEnd: (() => void) | undefined;\n        let unsubscribeTouchCancel: (() => void) | undefined;\n\n        zone.runOutsideAngular(() => {\n          unsubscribeMouseUp = renderer.listen(\n            'document',\n            'mouseup',\n            (event: MouseEvent) => {\n              observer.next({\n                clientX: event.clientX,\n                clientY: event.clientY,\n                event\n              });\n            }\n          );\n\n          if (IS_TOUCH_DEVICE) {\n            unsubscribeTouchEnd = renderer.listen(\n              'document',\n              'touchend',\n              (event: TouchEvent) => {\n                observer.next({\n                  clientX: event.changedTouches[0].clientX,\n                  clientY: event.changedTouches[0].clientY,\n                  event\n                });\n              }\n            );\n\n            unsubscribeTouchCancel = renderer.listen(\n              'document',\n              'touchcancel',\n              (event: TouchEvent) => {\n                observer.next({\n                  clientX: event.changedTouches[0].clientX,\n                  clientY: event.changedTouches[0].clientY,\n                  event\n                });\n              }\n            );\n          }\n        });\n\n        return () => {\n          unsubscribeMouseUp();\n          if (IS_TOUCH_DEVICE) {\n            unsubscribeTouchEnd!();\n            unsubscribeTouchCancel!();\n          }\n        };\n      }\n    ).pipe(share());\n  }\n}\n","import {\n  Directive,\n  Input,\n  Renderer2,\n  ElementRef,\n  OnInit,\n  OnDestroy,\n  NgZone,\n  Optional\n} from '@angular/core';\nimport { fromEvent, merge, Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { ResizableDirective } from './resizable.directive';\nimport { Edges } from './interfaces/edges.interface';\nimport { IS_TOUCH_DEVICE } from './is-touch-device';\n\n/**\n * An element placed inside a `mwlResizable` directive to be used as a drag and resize handle\n *\n * For example\n *\n * ```html\n * <div mwlResizable>\n *   <div mwlResizeHandle [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * </div>\n * ```\n * Or in case they are sibling elements:\n * ```html\n * <div mwlResizable #resizableElement=\"mwlResizable\"></div>\n * <div mwlResizeHandle [resizableContainer]=\"resizableElement\" [resizeEdges]=\"{bottom: true, right: true}\"></div>\n * ```\n */\n@Directive({\n  selector: '[mwlResizeHandle]'\n})\nexport class ResizeHandleDirective implements OnInit, OnDestroy {\n  /**\n   * The `Edges` object that contains the edges of the parent element that dragging the handle will trigger a resize on\n   */\n  @Input() resizeEdges: Edges = {};\n  /**\n   * Reference to ResizableDirective in case if handle is not located inside of element with ResizableDirective\n   */\n  @Input() resizableContainer: ResizableDirective;\n\n  private eventListeners: {\n    touchmove?: () => void;\n    mousemove?: () => void;\n    [key: string]: (() => void) | undefined;\n  } = {};\n\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private renderer: Renderer2,\n    private element: ElementRef,\n    private zone: NgZone,\n    @Optional() private resizableDirective: ResizableDirective\n  ) {}\n\n  ngOnInit(): void {\n    this.zone.runOutsideAngular(() => {\n      this.listenOnTheHost<MouseEvent>('mousedown').subscribe(event => {\n        this.onMousedown(event, event.clientX, event.clientY);\n      });\n\n      this.listenOnTheHost<MouseEvent>('mouseup').subscribe(event => {\n        this.onMouseup(event.clientX, event.clientY);\n      });\n\n      if (IS_TOUCH_DEVICE) {\n        this.listenOnTheHost<TouchEvent>('touchstart').subscribe(event => {\n          this.onMousedown(\n            event,\n            event.touches[0].clientX,\n            event.touches[0].clientY\n          );\n        });\n\n        merge(\n          this.listenOnTheHost<TouchEvent>('touchend'),\n          this.listenOnTheHost<TouchEvent>('touchcancel')\n        ).subscribe(event => {\n          this.onMouseup(\n            event.changedTouches[0].clientX,\n            event.changedTouches[0].clientY\n          );\n        });\n      }\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.unsubscribeEventListeners();\n  }\n\n  /**\n   * @hidden\n   */\n  onMousedown(\n    event: MouseEvent | TouchEvent,\n    clientX: number,\n    clientY: number\n  ): void {\n    event.preventDefault();\n    if (!this.eventListeners.touchmove) {\n      this.eventListeners.touchmove = this.renderer.listen(\n        this.element.nativeElement,\n        'touchmove',\n        (touchMoveEvent: TouchEvent) => {\n          this.onMousemove(\n            touchMoveEvent,\n            touchMoveEvent.targetTouches[0].clientX,\n            touchMoveEvent.targetTouches[0].clientY\n          );\n        }\n      );\n    }\n    if (!this.eventListeners.mousemove) {\n      this.eventListeners.mousemove = this.renderer.listen(\n        this.element.nativeElement,\n        'mousemove',\n        (mouseMoveEvent: MouseEvent) => {\n          this.onMousemove(\n            mouseMoveEvent,\n            mouseMoveEvent.clientX,\n            mouseMoveEvent.clientY\n          );\n        }\n      );\n    }\n    this.resizable.mousedown.next({\n      clientX,\n      clientY,\n      edges: this.resizeEdges\n    });\n  }\n\n  /**\n   * @hidden\n   */\n  onMouseup(clientX: number, clientY: number): void {\n    this.unsubscribeEventListeners();\n    this.resizable.mouseup.next({\n      clientX,\n      clientY,\n      edges: this.resizeEdges\n    });\n  }\n\n  // directive might be passed from DI or as an input\n  private get resizable(): ResizableDirective {\n    return this.resizableDirective || this.resizableContainer;\n  }\n\n  private onMousemove(\n    event: MouseEvent | TouchEvent,\n    clientX: number,\n    clientY: number\n  ): void {\n    this.resizable.mousemove.next({\n      clientX,\n      clientY,\n      edges: this.resizeEdges,\n      event\n    });\n  }\n\n  private unsubscribeEventListeners(): void {\n    Object.keys(this.eventListeners).forEach(type => {\n      (this as any).eventListeners[type]();\n      delete this.eventListeners[type];\n    });\n  }\n\n  private listenOnTheHost<T extends Event>(eventName: string) {\n    return fromEvent<T>(this.element.nativeElement, eventName).pipe(\n      takeUntil(this.destroy$)\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { ResizableDirective } from './resizable.directive';\nimport { ResizeHandleDirective } from './resize-handle.directive';\n\n@NgModule({\n  declarations: [ResizableDirective, ResizeHandleDirective],\n  exports: [ResizableDirective, ResizeHandleDirective]\n})\nexport class ResizableModule {}\n"]}