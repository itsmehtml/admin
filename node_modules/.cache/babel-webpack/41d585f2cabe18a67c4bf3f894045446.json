{"ast":null,"code":"var env = require(\"../../core/env\"); // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\n\n\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;","map":{"version":3,"sources":["C:/Users/user/Desktop/Admin/node_modules/zrender/lib/graphic/helper/fixClipWithShadow.js"],"names":["env","require","shadowTemp","_default","orignalBrush","browser","ie","version","clipPaths","__clipPaths","style","modified","i","length","clipPath","shape","type","startAngle","endAngle","width","height","j","apply","arguments","module","exports"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,gBAAD,CAAjB,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,IAAIC,UAAU,GAAG,CAAC,CAAC,YAAD,EAAe,CAAf,CAAD,EAAoB,CAAC,aAAD,EAAgB,MAAhB,CAApB,EAA6C,CAAC,eAAD,EAAkB,CAAlB,CAA7C,EAAmE,CAAC,eAAD,EAAkB,CAAlB,CAAnE,CAAjB;;AAEA,SAASC,QAAT,CAAkBC,YAAlB,EAAgC;AAC9B;AACA,SAAOJ,GAAG,CAACK,OAAJ,CAAYC,EAAZ,IAAkBN,GAAG,CAACK,OAAJ,CAAYE,OAAZ,IAAuB,EAAzC,GAA8C,YAAY;AAC/D,QAAIC,SAAS,GAAG,KAAKC,WAArB;AACA,QAAIC,KAAK,GAAG,KAAKA,KAAjB;AACA,QAAIC,QAAJ;;AAEA,QAAIH,SAAJ,EAAe;AACb,WAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,SAAS,CAACK,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,YAAIE,QAAQ,GAAGN,SAAS,CAACI,CAAD,CAAxB;AACA,YAAIG,KAAK,GAAGD,QAAQ,IAAIA,QAAQ,CAACC,KAAjC;AACA,YAAIC,IAAI,GAAGF,QAAQ,IAAIA,QAAQ,CAACE,IAAhC;;AAEA,YAAID,KAAK,KAAKC,IAAI,KAAK,QAAT,IAAqBD,KAAK,CAACE,UAAN,KAAqBF,KAAK,CAACG,QAAhD,IAA4DF,IAAI,KAAK,MAAT,KAAoB,CAACD,KAAK,CAACI,KAAP,IAAgB,CAACJ,KAAK,CAACK,MAA3C,CAAjE,CAAT,EAA+H;AAC7H,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,UAAU,CAACW,MAA/B,EAAuCQ,CAAC,EAAxC,EAA4C;AAC1C;AACA;AACAnB,YAAAA,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,IAAmBX,KAAK,CAACR,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAAD,CAAxB;AACAX,YAAAA,KAAK,CAACR,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAAD,CAAL,GAA0BnB,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAA1B;AACD;;AAEDV,UAAAA,QAAQ,GAAG,IAAX;AACA;AACD;AACF;AACF;;AAEDP,IAAAA,YAAY,CAACkB,KAAb,CAAmB,IAAnB,EAAyBC,SAAzB;;AAEA,QAAIZ,QAAJ,EAAc;AACZ,WAAK,IAAIU,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,UAAU,CAACW,MAA/B,EAAuCQ,CAAC,EAAxC,EAA4C;AAC1CX,QAAAA,KAAK,CAACR,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAAD,CAAL,GAA0BnB,UAAU,CAACmB,CAAD,CAAV,CAAc,CAAd,CAA1B;AACD;AACF;AACF,GAhCM,GAgCHjB,YAhCJ;AAiCD;;AAEDoB,MAAM,CAACC,OAAP,GAAiBtB,QAAjB","sourcesContent":["var env = require(\"../../core/env\");\r\n\r\n// Fix weird bug in some version of IE11 (like 11.0.9600.178**),\r\n// where exception \"unexpected call to method or property access\"\r\n// might be thrown when calling ctx.fill or ctx.stroke after a path\r\n// whose area size is zero is drawn and ctx.clip() is called and\r\n// shadowBlur is set. See #4572, #3112, #5777.\r\n// (e.g.,\r\n//  ctx.moveTo(10, 10);\r\n//  ctx.lineTo(20, 10);\r\n//  ctx.closePath();\r\n//  ctx.clip();\r\n//  ctx.shadowBlur = 10;\r\n//  ...\r\n//  ctx.fill();\r\n// )\r\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\r\n\r\nfunction _default(orignalBrush) {\r\n  // version string can be: '11.0'\r\n  return env.browser.ie && env.browser.version >= 11 ? function () {\r\n    var clipPaths = this.__clipPaths;\r\n    var style = this.style;\r\n    var modified;\r\n\r\n    if (clipPaths) {\r\n      for (var i = 0; i < clipPaths.length; i++) {\r\n        var clipPath = clipPaths[i];\r\n        var shape = clipPath && clipPath.shape;\r\n        var type = clipPath && clipPath.type;\r\n\r\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\r\n          for (var j = 0; j < shadowTemp.length; j++) {\r\n            // It is save to put shadowTemp static, because shadowTemp\r\n            // will be all modified each item brush called.\r\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\r\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\r\n          }\r\n\r\n          modified = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    orignalBrush.apply(this, arguments);\r\n\r\n    if (modified) {\r\n      for (var j = 0; j < shadowTemp.length; j++) {\r\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\r\n      }\r\n    }\r\n  } : orignalBrush;\r\n}\r\n\r\nmodule.exports = _default;"]},"metadata":{},"sourceType":"script"}